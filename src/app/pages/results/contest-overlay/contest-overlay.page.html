<ion-toolbar>
  <ion-buttons>
    <ion-button (click)="close()">
      <ion-icon slot="icon-only" name="arrow-round-back"></ion-icon>
    </ion-button>
  </ion-buttons>
</ion-toolbar>

<ion-content>
  <ion-grid class="contest-container">
    <app-results-swiper [options]="contest.options" [borderColors]="borderColors"></app-results-swiper>
    <ng-container *ngIf="showChart">
      <ion-row style="flex: 100%;" justify-content-center>
        <ion-col text-center *ngFor="let options of contest.options; let i = index">
          <div [@fadeInAnimation]>
            <ion-text style="vertical-align: middle" [style.color]="textColors[i]">
              <h1 style="font-size: 2rem">
                <ion-icon *ngIf="i === 0" name="star"></ion-icon>
                {{ percentages[i] | percent}}
              </h1>
            </ion-text>
          </div>
        </ion-col>
      </ion-row>
      <ion-row style="flex: 100%;">
        <ion-col>
          <div [@fadeInAnimation]>
            <app-bar-chart (loadedEmitter)="onChartLoaded()" [contestData]="contest"></app-bar-chart>
          </div>
        </ion-col>
      </ion-row>
    </ng-container>
    <ng-container *ngIf="loadContestInfoAndFeedbackForm">
      <ion-row style="flex: 100%;">
        <ion-col>
          <div [@fadeInAnimation]>
            <app-contest-info [contestData]="contest"></app-contest-info>
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <div [@fadeInAnimation]>
            <app-results-submit-form (formSubmitted)="onFeedbackSubmitted($event)"></app-results-submit-form>
          </div>
        </ion-col>
      </ion-row>
    </ng-container>
  </ion-grid>
</ion-content>
